<div class="reservation-container">
  <h1>Réserver un appareil</h1>

  <div *ngIf="deviceDetails" class="device-details">
    <img
      [src]="deviceDetails.photo || 'https://upload.wikimedia.org/wikipedia/commons/1/14/No_Image_Available.jpg'"
      alt="{{ deviceDetails.name || 'Image indisponible' }}"
      class="device-photo"
    />
    <h2>{{ deviceDetails.name }}</h2>
    <p><strong>Version :</strong> {{ deviceDetails.version }}</p>
    <p><strong>Référence :</strong> {{ deviceDetails.reference }}</p>
  </div>

  <form (ngSubmit)="confirmReservation()" class="reservation-form">
    <mat-form-field appearance="fill" class="date-field">
      <mat-label>Date de début</mat-label>
      <input
        matInput
        [matDatepicker]="startPicker"
        [(ngModel)]="borrowStartDate"
        (ngModelChange)="onStartDateChange()"
        name="borrowStartDate"
        [matDatepickerFilter]="isDateReserved"
        required
      />
      <mat-datepicker-toggle matSuffix [for]="startPicker"></mat-datepicker-toggle>
      <mat-datepicker #startPicker></mat-datepicker>
    </mat-form-field>

    <mat-form-field appearance="fill" class="date-field">
      <mat-label>Date de fin</mat-label>
      <input
        matInput
        [matDatepicker]="endPicker"
        [(ngModel)]="borrowEndDate"
        (ngModelChange)="onEndDateChange()"
        name="borrowEndDate"
        [matDatepickerFilter]="isDateReserved"
        required
      />
      <mat-datepicker-toggle matSuffix [for]="endPicker"></mat-datepicker-toggle>
      <mat-datepicker #endPicker></mat-datepicker>
    </mat-form-field>

    <button mat-raised-button color="primary" type="submit">Confirmer la réservation</button>
  </form>
</div>
